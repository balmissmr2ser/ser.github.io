<!DOCTYPE html><html><head>
      <title>SER</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
      
      
      
      
      
      <style>
      @import url(https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css);
code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v28/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview {
  font-family: Verdana, Arial, "Times New Roman", sans-serif;
  font-size: 14px;
}
.markdown-preview.markdown-preview .box_bg_lightgray {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .box_bg_lightgreen {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://ser.smr2.iesdoctorbalmis.info/assets/fondo.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview table {
  table-layout: auto !important;
  width: fit-content !important;
  max-width: none !important;
  border-collapse: collapse !important;
}
.markdown-preview.markdown-preview .style-normal {
  text-indent: 0.5cm;
  text-align: justify;
}
.markdown-preview.markdown-preview .style-example {
  text-align: justify;
  font-size: small;
}
.markdown-preview.markdown-preview .style-title {
  text-indent: 0cm;
  text-align: center;
}
.markdown-preview.markdown-preview .style-list {
  text-indent: 0cm;
  text-align: justify;
}
.markdown-preview.markdown-preview .style-table-content table {
  background-color: #f0f9ff !important;
  border-style: none !important;
  width: 100% !important;
  table-layout: fixed !important;
}
.markdown-preview.markdown-preview .style-table-content th,
.markdown-preview.markdown-preview .style-table-content td {
  border-style: none !important;
  vertical-align: top !important;
}
.markdown-preview.markdown-preview .style-table-content th:first-child,
.markdown-preview.markdown-preview .style-table-content td:first-child {
  width: 200px !important;
}
.markdown-preview.markdown-preview .md-toc {
  background-color: rgba(173, 216, 230, 0.4) !important;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  const configureMermaidIconPacks = () => {
    window["mermaid"].registerIconPacks([
      {
        name: "logos",
        loader: () =>
          fetch("https://unpkg.com/@iconify-json/logos@1/icons.json").then(
            (res) => res.json()
          ),
      },
    ]);
  };

  if (document.readyState !== 'loading') {
    configureMermaidIconPacks();
  } else {
    document.addEventListener("DOMContentLoaded", () => {
      configureMermaidIconPacks();
    });
  }
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<div class="style-title">
<p><img src="../../../assets/img-BalmisHeader.png" alt="BALMIS"></p>
<h1 id="linux-tradicional">LINUX TRADICIONAL </h1>
</div>
<p><a href="./t01.linux.nopersistente.pdf">Descargar PDF</a></p>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#linux-tradicional" class="md-toc-link"><p>LINUX TRADICIONAL</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#introducci贸n" class="md-toc-link">
            <p>INTRODUCCIN</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#mostrar-configuraci贸n-interfaces-de-red" class="md-toc-link">
            <p>MOSTRAR CONFIGURACIN INTERFACES DE RED</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#configuraci贸n-est谩tica" class="md-toc-link"><p>CONFIGURACIN ESTTICA</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#configurar-ip-y-gateway" class="md-toc-link"><p>CONFIGURAR IP Y GATEWAY</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#caso-no-persistente" class="md-toc-link">
            <p>CASO NO PERSISTENTE</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#caso-peristente" class="md-toc-link"><p>CASO PERISTENTE</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sistemas-basados-en-debian" class="md-toc-link">
            <p>SISTEMAS BASADOS EN DEBIAN</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sistemas-basados-en-red-hat" class="md-toc-link">
            <p>SISTEMAS BASADOS EN RED HAT</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#configurar-dns" class="md-toc-link"><p>CONFIGURAR DNS</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sistemas-basados-en-debian-1" class="md-toc-link">
            <p>SISTEMAS BASADOS EN DEBIAN</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sistemas-basados-en-red-hat-1" class="md-toc-link">
            <p>SISTEMAS BASADOS EN RED HAT</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#borrar-ip-y-gateway" class="md-toc-link">
            <p>BORRAR IP Y GATEWAY</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#borrar-dns" class="md-toc-link">
            <p>BORRAR DNS</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#configuraci贸n-din谩mica" class="md-toc-link"><p>CONFIGURACIN DINMICA</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#obtener-par谩metros-de-red" class="md-toc-link">
            <p>OBTENER PARMETROS DE RED</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#liberar-ip" class="md-toc-link">
            <p>LIBERAR IP</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#caso-persistente" class="md-toc-link">
            <p>CASO PERSISTENTE</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#activar-y-desactivar-interfaces-de-red" class="md-toc-link">
            <p>ACTIVAR Y DESACTIVAR INTERFACES DE RED</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#tabla-de-enrutamiento" class="md-toc-link"><p>TABLA DE ENRUTAMIENTO</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#mostrar-tabla" class="md-toc-link">
            <p>MOSTRAR TABLA</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#modificar-tabla" class="md-toc-link"><p>MODIFICAR TABLA</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#a帽adir-entrada" class="md-toc-link">
            <p>AADIR ENTRADA</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#borrar-entrada" class="md-toc-link">
            <p>BORRAR ENTRADA</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#persistencia" class="md-toc-link">
            <p>PERSISTENCIA</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#tabla-arp" class="md-toc-link"><p>TABLA ARP</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#mostrar-tabla-1" class="md-toc-link">
            <p>MOSTRAR TABLA</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#modificar-tabla-1" class="md-toc-link"><p>MODIFICAR TABLA</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#a帽adir-entrada-1" class="md-toc-link">
            <p>AADIR ENTRADA</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#borrar-entrada-1" class="md-toc-link">
            <p>BORRAR ENTRADA</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="introducci贸n">INTRODUCCIN </h2>
<div class="style-normal">
<p>En el presente tema vamos a estudiar la configuraci贸n tradicional de la red en Linux. Nos centraremos en sistemas sin entorno de escritorio ya que en Linux hay una gran variedad de entornos de escritorio y la configuraci贸n de la red depende de cada uno de ellos.</p>
<p>B谩sicamente distinguiremos dos formas diferentes de configuraci贸n de la red:</p>
</div>
<div class="style-list">
<ul>
<li>
<p><strong>Configuraci贸n no persistente</strong> o de bajo nivel. Esta configuraci贸n se refiere a los cambios realizados directamente desde la l铆nea de comandos, que afectan a la configuraci贸n de la red de manera inmediata pero <em>no se mantienen tras reiniciar el sistema</em>. Este tipo de configuraci贸n es 煤til para pruebas, cambios temporales o en entornos donde no se requiere persistencia. Se realiza desde la l铆nea de comandos mediante utilidades espec铆ficas incluidas en la librer铆a <strong>net-tools</strong>. Las m谩s habituales son <code>ifconfig</code>, <code>route</code> y <code>arp</code>, que permiten gestionar interfaces, direcciones IP y rutas de forma temporal entre otras cosas.</p>
</li>
<li>
<p><strong>Configuraci贸n persistente</strong>. La configuraci贸n persistente se lleva a cabo en ficheros. Las directivas u 贸rdenes del fichero se ejecutan cuando se inicia la m谩quina, el servicio de red o el usuario invoca los comandos <code>ifup</code> e <code>ifdown</code>.</p>
</li>
</ul>
</div>
<h2 id="mostrar-configuraci贸n-interfaces-de-red">MOSTRAR CONFIGURACIN INTERFACES DE RED </h2>
<div class="style-normal">
<p>La utilidad o comando <code>ifconfig</code> es muy vers谩til y se puede utilizar para mostrar informaci贸n de las interfaces de red.</p>
<p>Para mostrar la configuraci贸n de las interfaces de red el comando tiene la siguiente sintaxis:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifconfig [-a] [&lt;interfaz&gt;]
</code></pre><div class="style-normal">
<p>Entre la informaci贸n mostrada podemos ver la IP, la MAC, la m谩scara de red, la direcci贸n de broadcast e informaci贸n sobre el estado de la interfaz entre otros datos.</p>
<p>Cuando no se especifica un interfaz muestra informaci贸n de todas las interfaces de red o solo de las activas si omitimos el flag <code>-a</code>. Cuando se especifica una interfaz muestra solamente informaci贸n de esa interfaz (est茅 o no activa).</p>
</div>
<div class="admonition example">
<p class="admonition-title">Mostrar interfaces de red</p>
<div class="style-example">
<p>Mostrar el estado de la interfaz <code>eth0</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# ifconfig eth0
eth0      Link encap:Ethernet  HWaddr 08:00:27:d0:2f:54  
          inet addr:192.168.2.16  Bcast:192.168.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fed0:2f54/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:26 errors:0 dropped:0 overruns:0 frame:0
          TX packets:88 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:3553 (3.4 KiB)  TX bytes:5485 (5.3 KiB)
</code></pre><p>La ejecuci贸n del comando nos indica que la interfaz <code>eth0</code> tiene la ip <code>192.168.2.16</code>, la m谩scara de red es la <code>255.255.255.0</code> y que est谩 activa (<code>UP</code> ... <code>RUNNING</code>) entre otras cosas.</p>
</div>
  </div>
<div class="style-normal">
<p>La sintaxis del comando para mostrar las estadisticas de todas las interfaces (o una concreta) activas es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifconfig [-s] [&lt;interfaz&gt;]
</code></pre><h2 id="configuraci贸n-est谩tica">CONFIGURACIN ESTTICA </h2>
<div class="style-normal">
<p>Para llevar a cabo la configuraci贸n no persistente de las interfaces de red tambi茅n utilizaremos el comando <code>ifconfig</code> adem谩s del comando <code>route</code>.</p>
<p>Para el caso de la configuraci贸n persistente se usan ficheros. Hay que distinguir entre los sistemas basados en <strong>Debian</strong> y los basados en <strong>RedHat</strong>. Nosotros principalmente nos centraremos en los primeros.</p>
</div>
<h3 id="configurar-ip-y-gateway">CONFIGURAR IP Y GATEWAY </h3>
<h4 id="caso-no-persistente">CASO NO PERSISTENTE </h4>
<div class="style-normal">
<p>Para cambiar la direcci贸n IP de una interfaz de red, o asignarle una si no ten铆a, la sintaxis ser铆a la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifconfig &lt;interfaz&gt; {&lt;ip/prefix&gt; | &lt;ip&gt; netmask &lt;m谩scara&gt;}
</code></pre><div class="admonition example">
<p class="admonition-title">Configurar direcci贸n IP</p>
<div class="style-example">
<p>Cambiar la direcci贸n IP de la interfaz <code>eth0</code> a <code>192.168.2.20/27</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# ifconfig eth0 192.168.2.20/27
</code></pre><p>Tambi茅n se obtendr铆a el mismo resultado con el siguiente comando:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# ifconfig eth0 192.168.2.20 netmask 255.255.255.224
</code></pre></div>
</div>
<div class="style-normal">
<p>Para configurar la puerta de enlace o gateway, de forma no persistente, a帽adiremos una ruta por defecto mediante el comando <code>route</code>.</p>
<p>La sintaxis del comando para este prop贸sito es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>route add default gw &lt;puerta_de_enlace&gt; [metric &lt;m茅trica&gt;] [dev] [&lt;interfaz&gt;]
</code></pre><div class="style-normal">
<p>En el comando se especifica la ruta por defecto (<code>default</code>) y la IP de la <code>puerta de enlace</code> que me proporciona acceso externo (Internet). La opci贸n <code>dev</code> se puede omitir si s贸lo hay una interfaz de red; es m谩s se puede omitir hasta el nombre de la interfaz.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Configurar gateway</p>
<div class="style-example">
<p>Configurar la puerta de enlace con la ip <code>192.168.2.1</code>. Supondremos que la 煤nica interfaz de red es <code>eth0</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route add default gw 192.168.2.1
</code></pre></div>
</div>
<h4 id="caso-peristente">CASO PERISTENTE </h4>
<div class="style-normal">
<p>Previamente a pasar a describir la configuraci贸n persistente de la red, se debe distinguir entre los conceptos de <strong>interfaz f铆sica de red</strong> e <strong>interfaz l贸gica de red</strong>. Un equipo tendr谩 tantas interfaces f铆sicas de red como tarjetas de red tenga, ya sean reales o virtuales, pero puede tener una cantidad arbitraria de interfaces l贸gicas de red. A las interfaces l贸gicas de red tambi茅n se les denomina <strong>perfiles de conexi贸n de red</strong> o, simplemente, <strong>conexiones de red</strong>.<br>
A partir de ahora, a las interfaces f铆sicas de red las llamaremos simplemente <strong>interfaces</strong> y a las interfaces l贸gicas <strong>conexiones</strong>.</p>
<p>Una <strong>conexi贸n activa</strong> es aquella cuyos datos de configuraci贸n se han asignado a una interfaz de red. Podemos tener tantas conexiones definidas como queramos, pero solo puede haber una 煤nica conexi贸n activa por cada interfaz en un momento dado.</p>
<p>Es habitual que las conexiones se llamen igual que las interfaces de red. Por eso a veces se habla indistintamente de interfaces y conexiones.</p>
<p>Cuando se realiza la configuraci贸n persistente de la red realmente estamos configurando <strong>conexiones</strong> y no <strong>interfaces</strong>.</p>
</div>
<h5 id="sistemas-basados-en-debian">SISTEMAS BASADOS EN DEBIAN </h5>
<div class="style-normal">
<p>En los sistemas <strong>Debian</strong> y derivados (Ubuntu, ...), especialmente los que no tienen entorno de escritorio, la configuraci贸n de la red se lleva a cabo en el archivo <code>/etc/network/interfaces</code>.</p>
<p>El archivo de configuraci贸n, en su versi贸n m谩s simple, consiste en varias secciones como las que se muestran a continuaci贸n:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>#/etc/network/interfaces
...
auto &lt;lista-interfaces&gt;
...
allow-hotplug &lt;lista-interfaces&gt;
...
# Configuraci贸n conexi贸n est谩tica
iface &lt;conexi贸n&gt; inet static
    address &lt;ip&gt;
    netmask &lt;m谩scara&gt;
    [gateway &lt;puerta-enlace&gt;]
...
</code></pre><div class="style-normal">
<p>En la cl谩usula <code>auto</code> tenemos una lista separada por espacios en blanco de interfaces de red que se activar谩n cuando se ejecuta un comando de activaci贸n de la interfaz (cuando se inicia el sistema se activan todas las interfaces de la lista). Puede haber m谩s de una l铆nea con una cl谩usula <code>auto</code>.</p>
<p>En la cl谩usula <code>allow-hotplug</code> tenemos una Lista separada por espacios en blanco de interfaces de red que se activar谩n cuando se detecta la conexi贸n f铆sica de un adaptador de red al equipo (al inicio pasa esto). Por ejemplo, cuando se conecta el cable de red. Puede haber m谩s de una l铆nea con una cl谩usula <code>allow-hotplug</code>.</p>
<p>Mediante la cl谩usula <code>iface</code> llevamos a cabo la configuraci贸n de una conexi贸n de red. Se debe indicar el nombre de la conexi贸n (<code>&lt;conexi贸n&gt;</code>), es obligatorio proporcionar la direcci贸n IP (<code>address &lt;ip&gt;</code>) y la m谩scara de red (<code>netmask &lt;m谩scara&gt;</code>). La puerta de enlace (<code>gateway &lt;puerta-enlace&gt;</code>) es opcional, aunque si no la ponemos no tendremos salida a internet. Puede haber m谩s de una secci贸n <code>iface</code>.</p>
<p>Es habitual que las conexiones se llamen igual que las interfaces de red. As铆, cuando se habla de configuraci贸n de la interfaz, lo que realmente se quiere decir es configuraci贸n de una conexi贸n que tiene el mismo nombre que la interfaz. Los siguientes ejemplos aclaran los conceptos.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n red est谩tica Debian</p>
<div class="style-example">
<p>Configurar la interfaz <code>enp0s3</code> (realmente es una conexi贸n) de manera est谩tica con la IP <code>192.168.5.96/26</code> con puerta de enlace <code>192.168.5.65</code>. La conexi贸n se debe activar autom谩ticamente cuando se ejecuta una instrucci贸n de activaci贸n de la interfaz.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>#/etc/network/interfaces
auto enp0s3

# Configuraci贸n conexi贸n est谩tica
iface enp0s3 inet static
    address 192.168.5.96
    netmask 255.255.255.192
    gateway 192.168.5.65
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n red est谩tica Debian</p>
<div class="style-example">
<p>Configurar una conexi贸n llamada <code>trabajo</code> de manera est谩tica con la IP <code>172.16.100.10/16</code> con puerta de enlace <code>172.16.0.1</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>#/etc/network/interfaces

# Configuraci贸n conexi贸n est谩tica
iface trabajo inet static
    address 172.16.100.10
    netmask 255.255.0.0
    gateway 172.16.0.1
</code></pre></div>
</div>
<h5 id="sistemas-basados-en-red-hat">SISTEMAS BASADOS EN RED HAT </h5>
<div class="style-normal">
<p>En estos sistemas, las interfaces l贸gicas de red o conexiones se configuran dentro de la carpeta <code>/etc/sysconfig/network-scripts</code>. Para cada interfaz l贸gica o conexi贸n existe un archivo de configuraci贸n. La nomenclatura de los archivos de configuraci贸n es la siguiente: <code>ifcfg-&lt;nombre-conexi贸n&gt;</code>.</p>
<p>Como ocurr铆a con los sistemas basados en Debian, es muy habitual que las conexiones se llamen igual que las interfaces. As铆, si tenemos una tarjeta f铆sica de red que se llama <code>eth0</code>, tendremos una conexi贸n que se llama <code>ifcfg-eth0</code>.</p>
<p>Un archivo de configuraci贸n de una interfaz consiste en una lista de directivas de la forma <code>&lt;par谩metro&gt;=&lt;valor&gt;</code>. El archivo de configuraci贸n habitual para las conexiones din谩micas y est谩ticas sigue el siguiente esquema:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=&lt;interfaz&gt;
ONBOOT={yes\|no}
BOOTPROTO=none
IPADDR=&lt;ip&gt;
NETMASK=&lt;m谩scara-red&gt;
GATEWAY=&lt;puerta-enlace&gt;
</code></pre><div class="style-normal">
<p>El par谩metro <code>DEVICE</code> especifica la interfaz f铆sica de red a la cual se asociar谩 la conexi贸n.</p>
<p>Con la directiva <code>BOOTPROTO=none</code> indicamos que la conexi贸n se configura de manera est谩tica o manual.</p>
<p>El par谩metro <code>ONBOOT</code> sirve para que se active, o no, la conexi贸n cuando se inicie el servicio de red o se reinicie la m谩quina. Solo debe haber una conexi贸n con valor <code>yes</code> para cada interfaz de red (par谩metro <code>DEVICE</code>).</p>
<p>Las siguientes directivas son exclusivas de conexiones est谩ticas:</p>
</div>
<div class="style-list">
<ul>
<li><code>IPADDR</code>: contiene la IP que tomar谩 la interfaz asociada cuando se active la conexi贸n en el caso de configuraci贸n est谩tica.</li>
<li><code>NETMASK</code>: es la m谩scara de red.</li>
<li><code>GATEWAY</code>: es la puerta de enlace.</li>
</ul>
</div>
<div class="style-normal">
<p>Cuando se hace la instalaci贸n del sistema operativo, autom谩ticamente se crea un archivo de conexi贸n correspondiente a la primera tarjeta de red.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n red est谩tica Red Hat</p>
<div class="style-example">
<p>Configurar una conexi贸n llamada <code>eth2</code> de manera que la IP sea <code>192.168.4.10</code>, la m谩scara de red <code>255.255.255.0</code> y la puerta de enlace <code>192.168.4.1</code>. La interfaz asociada a esta conexi贸n es <code>eth2</code> y se debe activar cuando se inicia el equipo.</p>
<p>El archivo se llamar谩 <code>/etc/sysconfig/network-scripts/ifcfg-eth2</code> y su contenido ser谩 el siguiente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=eth2
ONBOOT=yes
BOOTPROTO=none
IPADDR=192.168.4.10
NETMASK=255.255.255.0
GATEWAY=192.168.4.1
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n red est谩tica Red Hat</p>
<div class="style-example">
<p>Configurar una conexi贸n llamada <code>trabajo</code> de manera est谩tica con la IP <code>172.16.100.10/16</code> con puerta de enlace <code>172.16.0.1</code>. La conexi贸n estar谩 asociada a la interfaz <code>eth1</code> y no se iniciar谩 autom谩ticamente.</p>
<p>El archivo se llamar谩 <code>/etc/sysconfig/network-scripts/ifcfg-trabajo</code> y su contenido ser谩 el siguiente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=eth1
ONBOOT=no
BOOTPROTO=none
IPADDR=172.16.100.10
NETMASK=255.255.0.0
GATEWAY=172.16.0.1
</code></pre></div>
</div>
<h3 id="configurar-dns">CONFIGURAR DNS </h3>
<p>La configuraci贸n del DNS s贸lo puede ser <strong>persistente</strong>.</p>
<h4 id="sistemas-basados-en-debian-1">SISTEMAS BASADOS EN DEBIAN </h4>
<div class="style-normal">
<p>En los sistemas basados en Debian, la configuraci贸n del DNS se realiza editando el archivo <code>/etc/resolv.conf</code>. Este archivo contiene una lista de servidores DNS que el sistema utilizar谩 para resolver nombres de dominio. La sintaxis del archivo es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>nameserver &lt;ip-servidor-dns&gt;
</code></pre><div class="style-normal">
<p>Se pueden especificar m煤ltiples servidores DNS (hasta un m谩ximo de 3), uno por l铆nea. Por ejemplo:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>nameserver &lt;ip-servidor-dns1&gt;
nameserver &lt;ip-servidor-dns2&gt;
</code></pre><div class="admonition example">
<p class="admonition-title">Configuraci贸n DNS Debian</p>
<div class="style-example">
<p>En una red tenemos un servidor DNS de IP <code>192.168.3.3</code>. Configurar una m谩quina de la red para que los nombres DNS los resuelva el servidor interno, y si este es incapaz de resolverlos, la petici贸n la resuelva el servidor DNS p煤blico de IP <code>8.8.8.8</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>nameserver 192.168.3.3
nameserver 8.8.8.8
</code></pre></div>
</div>
<div class="style-normal">
<p>Cuando tenemos instalada la aplicaci贸n <code>resolvconf</code>, se pueden configurar los servidores DNS en el mismo archivo de configuraci贸n de las interfaces de red con la directiva <code>dns-nameservers</code>. Podemos comprobar si el servicio est谩 instalado ejecutando, por ejemplo, el comando <code>service</code> o <code>dpkg</code>.<br>
El siguiente comando nos indica si el servicio <code>resolvconf</code> est谩 instalado y su estado (activo o inactivo):</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@linux:~# service resolvconf status
</code></pre><p>El siguiente comando es equivalente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@linux:~# dpkg -l | grep resolvconf
</code></pre>
<div class="style-normal">
<p>Adem谩s, en este caso el archivo <code>/etc/resolv.conf</code> no es realmente el archivo de configuraci贸n de los DNS, sino un enlace simb贸lico (link) al archivo de configuraci贸n.</p>
<p>El servicio <code>resolvconf</code> est谩 instalado por defecto en muchas distribuciones Ubuntu antiguas como Ubuntu 16.04.</p>
<p>Cuando se activa una conexi贸n de red donde aparece una directiva <code>dns-nameservers</code>, el servicio <code>resolvconf</code> lee los valores de los servidores DNS y los pone en el archivo <code>/etc/resolv.conf</code>. Por tanto, si tenemos instalado este servicio, no debemos configurar los servidores DNS utilizados en el archivo <code>/etc/resolv.conf</code>. No obstante, se pueden a帽adir servidores DNS concretos si los ponemos en el archivo <code>/etc/resolvconf/resolv.conf.d/head</code> con una directiva <code>nameserver</code>. En este caso, <code>resolvconf</code> siempre pondr谩 este DNS en el archivo <code>/etc/resolv.conf</code>, adem谩s de los que aparecen en las directivas <code>dns-nameservers</code>.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n DNS resolvconf</p>
<div class="style-example">
<p>Tenemos un equipo con Debian 11 que utiliza el servicio <code>resolvconf</code> como cliente DNS. La direcci贸n de red es <code>192.168.4.0/24</code> y la IP del equipo es <code>192.168.4.5</code>. Queremos configurar la interfaz de red para que utilice los DNS <code>10.10.10.3</code> y <code>8.8.8.8</code>.</p>
<p>El servicio <code>resolvconf</code> no viene instalado por defecto en las distribuciones Debian sin entorno de escritorio. Lo primero que debemos hacer es instalarlo:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@linux:~# apt install resolvconf
</code></pre><p>Ahora ya podemos configurar los servidores DNS utilizados.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>auto enp0s3
iface enp0s3 inet static
 address 192.168.4.5
 netmask 255.255.255.0
 gateway 192.168.4.1
 dns-nameservers 10.10.10.3 8.8.8.8
</code></pre></div>
</div>
<h4 id="sistemas-basados-en-red-hat-1">SISTEMAS BASADOS EN RED HAT </h4>
<div class="style-normal">
<p>En estos sistemas la configuraci贸n del DNS de lleva a cabo en los archivos de configuraci贸n de las conexiones. Cl谩usulas del tipo <code>DNS&lt;n&gt; = &lt;ip-dns&gt;</code>, donde n indica el n煤mero de servidor DNS (el 1 es el m谩s prioritario) se utilizan para definir los servidores DNS.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Configuraci贸n red con DNS Red Hat</p>
<div class="style-example">
<p>Configurar una conexi贸n llamada <code>eth2</code> de manera que la IP sea <code>192.168.4.10</code>, la m谩scara de red <code>255.255.255.0</code> y la puerta de enlace <code>192.168.4.1</code>. Adem谩s, los servidores DNS ser谩n el <code>10.10.10.3</code> y <code>8.8.8.8</code>. La interfaz se debe activar cuando se inicia el equipo.</p>
<p>El archivo se llamar谩 <code>/etc/sysconfig/network-scripts/ifcfg-eth2</code> y su contenido ser谩 el siguiente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=eth2
ONBOOT=yes
BOOTPROTO=none
IPADDR=192.168.4.10
NETMASK=255.255.255.0
GATEWAY=192.168.4.1
DNS1=10.10.10.3
DNS2=8.8.8.8
</code></pre></div>
</div>
<h3 id="borrar-ip-y-gateway">BORRAR IP Y GATEWAY </h3>
<div class="style-normal">
<p>Para borrar una ip de manera <strong>no persistente</strong> se asigna la ip <code>0.0.0.0</code> a la interfaz de red utilizando el comando <code>ifconfig</code>. Cuando se asigna esta ip a una interfaz, la interfaz queda administrativamente activa pero sin ninguna ip. Adem谩s, la ruta por defecto asociada a esa interfaz se elimina autom谩ticamente de la tabla de enrutamiento.</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifconfig &lt;interfaz&gt; 0.0.0.0
</code></pre><div class="style-normal">
<p>Para eliminar la puerta de enlace, sin eliminar la ip de la interfaz, se utiliza el comando <code>route del</code> para borrar la ruta asociada.</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>route del default [gw &lt;puerta_de_enlace&gt;] [&lt;interfaz&gt;]
</code></pre><div class="style-normal">
<p>Si s贸lo tenemos una 煤nica ruta por defecto (lo habitual) no es necesario especificar la puerta de enlace (ni la interfaz de red).</p>
</div>
<div class="admonition example">
<p class="admonition-title">Eliminar gateway</p>
<div class="style-example">
<p>Eliminar la ruta por defecto o gateway de la tabla de enrutamiento de un equipo. Suponemos que s贸lo hay una 煤nica ruta por defecto.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route del default
</code></pre></div>
</div>
<div class="style-normal">
<p>Para eliminar la ip en el caso de la configuraci贸n <strong>persistente</strong>, s贸lo hay que desactivar la interfaz, eliminar la secci贸n de configuraci贸n de la interfaz (o el archivo de interfaz) y volver a activar la interfaz.</p>
<p>Si s贸lo queremos eliminar la puerta de enlace tenemos que desactivar la interfaz, eliminar del archivo de configuraci贸n la l铆nea donde aparece la directiva <code>gateway</code> y volver a activar la interfaz.</p>
</div>
<h3 id="borrar-dns">BORRAR DNS </h3>
<div class="style-normal">
<p>En el caso de los <strong>sistemas basados en Debian</strong> que configuran el DNS en el archivo <code>/etc/resolv.conf</code> simplemente hay que editar el archivo y eliminar las l铆neas correspondientes a los servidores DNS que queremos borrar.<br>
Si se utiliza el servicio resolvconf en conjunci贸n con el archivo <code>/etc/network/interfaces</code> s贸lo tenemos que parar el servicio, editar dicho archivo y eliminar los DNS que nos interesen de las cl谩usulas <code>dns-domainserver</code> y volver a iniciar el servicio resolvconf.</p>
<p>Para los <strong>sistemas basados en Red Hat</strong> hay que desactivar la conexi贸n que contiene los DNS a borrar, editar dicho archivo de conexi贸n y eliminar las l铆neas que nos interesen donde aparece la palabra DNS. Por 煤ltimo hay que volver a activar la conexi贸n.</p>
</div>
<h2 id="configuraci贸n-din谩mica">CONFIGURACIN DINMICA </h2>
<h3 id="obtener-par谩metros-de-red">OBTENER PARMETROS DE RED </h3>
<div class="style-normal">
<p>Para configurar din谩micamente una interfaz de red; es decir para hacer que la direcci贸n ip y otros par谩metros de red (b谩sicamente la puerta de enlace y servidores DNS) nos los proporcione un servidor DHCP no nos sirve el comando <code>ifconfig</code>. En su lugar tenemos que utilizar el cliente DHCP que venga con la distribuci贸n de linux utilizada. En linux Debian y derivados este cliente se llama <code>dhclient</code>.<br>
La sintaxis del comando para obtener la ip din谩micamente es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>dhclient [-v] &lt;interfaz&gt;
</code></pre><div class="style-normal">
<p>El comando hace que la interfaz de red especificada solicite una direcci贸n IP a un servidor DHCP de la red. Con la opci贸n <code>-v</code> nos muestra informaci贸n del proceso de obtenci贸n de la direcci贸n.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Obtener ip din谩micamente</p>
<div class="style-example">
<p>Solicitar una ip din谩micamente para la interfaz de red <code>eth0</code>. Mostrar informaci贸n adicional relativa a la obtenci贸n de la direcci贸n.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# dhclient -v eth0
Internet Systems Consortium DHCP Client 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
Listening on LPF/eth0/08:00:27:d0:2f:54
Sending on LPF/eth0/08:00:27:d0:2f:54
Sending on Socket/fallback
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 4
DHCPREQUEST on eth0 to 255.255.255.255 port 67
DHCPOFFER from 192.168.2.3
DHCPACK from 192.168.2.3
bound to 192.168.2.16 -- renewal in 299 seconds.
</code></pre><p>Los detalles de la informaci贸n mostrada se explicaran en otro tema. La 煤ltima l铆nea me indica que la ip asignada a la interfaz <code>eth0</code> es la <code>192.168.2.16</code>.</p>
</div>
</div>
<div class="style-normal">
<p>Si a una interfaz ya se le ha asignado una ip din谩micamente, la ejecuci贸n del comando provoca la renovaci贸n de la concesi贸n de la ip.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Obtener ip din谩micamente</p>
<div class="style-example">
<p>Solicitar una ip din谩micamente para la interfaz de red <code>eth0</code>. Mostrar informaci贸n adicional relativa a la obtenci贸n de la direcci贸n.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# dhclient -v eth0
Internet Systems Consortium DHCP Client 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
Listening on LPF/eth0/08:00:27:d0:2f:54
Sending on LPF/eth0/08:00:27:d0:2f:54
Sending on Socket/fallback
DHCPREQUEST on eth0 to 255.255.255.255 port 67
DHCPACK from 192.168.2.3
RTNETLINK answers: File exists
bound to 192.168.2.16 -- renewal in 238 seconds.
</code></pre><p>Como en el ejemplo anterior, la ip asignada a la interfaz <code>eth0</code> es la <code>192.168.2.16</code>. La ausencia de las l铆neas que contienen la palabra <code>DHCPDISCOVER</code> y <code>DHCPOFFER</code> nos indican que la interfaz ya ten铆a asignada esta ip y que lo que se ha producido es la renovaci贸n de la ip.</p>
</div>
</div>
<h3 id="liberar-ip">LIBERAR IP </h3>
<p>Cuando en el comando dhclient utilizamos la opci贸n -r lo que hacemos es eliminar la ip de nuestro adaptador de red e indicarle al servidor DHCP que la ip est谩 disponible para asignarla a otro equipo.</p>
<p>La sintaxis del comando para este caso es la siguiente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>dhclient -r [-v] &lt;interfaz&gt;
</code></pre><p>Libera la ip asignada a la interfaz de red especificada. La interfaz queda administrativamente activa pero sin ninguna ip. Con la opci贸n -v se nos muestra informaci贸n adicional. Si solo tenemos una 煤nica interfaz de red podemos omitir el par谩metro <code>&lt;interfaz&gt;</code>.</p>
<div class="admonition example">
<p class="admonition-title">Liberar ip</p>
<div class="style-example">
<p>Liberar la ip asignada a la interfaz de red <code>eth0</code>. Mostrar informaci贸n adicional relativa a la liberaci贸n de la direcci贸n. Suponemos que solo hay una 煤nica interfaz de red.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# dhclient -r -v eth0
Internet Systems Consortium DHCP Client 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
Listening on LPF/eth0/08:00:27:d0:2f:54
Sending on LPF/eth0/08:00:27:d0:2f:54
Sending on Socket/fallback
DHCPRELEASE on eth0 to 255.255.255.255 port 67
</code></pre><p>Como solo hay una 煤nica interfaz de red, no es necesario especificar el par谩metro <code>eth0</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# dhclient -r -v
Internet Systems Consortium DHCP Client 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
Listening on LPF/eth0/08:00:27:d0:2f:54
Sending on LPF/eth0/08:00:27:d0:2f:54
Sending on Socket/fallback
DHCPRELEASE on eth0 to 255.255.255.255 port 67
</code></pre></div>
</div>
<h3 id="caso-persistente">CASO PERSISTENTE </h3>
<div class="style-normal">
<p>Lo visto hasta ahora es para el caso de una configuraci贸n no persistente. Para la configuraci贸n persistente, en el caso de las <strong>distribuciones basadas en Debian</strong>, solo tenemos que editar el archivo de configuraci贸n de las interfaces (<code>/etc/network/interfaces</code>) e indicar en la directiva <code>iface</code> que la asignaci贸n es por <code>dhcp</code>.<br>
La sintaxis general para esta configuraci贸n es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code># /etc/network/interfaces
...

# Configuraci贸n conexi贸n din谩mica
iface &lt;conexi贸n&gt; inet dhcp
...
</code></pre><div class="admonition example">
<p class="admonition-title">Configuraci贸n red din谩mica Debian</p>
<div class="style-example">
<p>Configurar la interfaz <code>enp0s3</code> (realmente es una conexi贸n) de manera din谩mica con DHCP.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code># /etc/network/interfaces
auto enp0s3

# Configuraci贸n conexi贸n din谩mica
iface enp0s3 inet dhcp
</code></pre></div>
</div>
<div class="style-normal">
<p>Para el caso de las <strong>distribuciones basadas en Red Hat</strong>, pondremos <code>dhcp</code> en el valor del par谩metro <code>BOOTPROTO</code> en el archivo de configuraci贸n de la conexi贸n que queremos configurar de esta manera.</p>
<p>La sintaxis general de un archivo de configuraci贸n de conexi贸n en este caso es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=&lt;interfaz&gt;
ONBOOT={yes\|no}
BOOTPROTO=dhcp
</code></pre><div class="admonition example">
<p class="admonition-title">Configuraci贸n red din谩mica Red Hat</p>
<div class="style-example">
<p>Configurar una conexi贸n llamada <code>eth2</code> de manera que la IP y otros par谩metros de red se asignen din谩micamente a la interfaz <code>eth2</code>.</p>
<p>El archivo se llamar谩 <code>/etc/sysconfig/network-scripts/ifcfg-eth2</code> y su contenido ser谩 el siguiente:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>DEVICE=eth2
ONBOOT=yes
BOOTPROTO=dhcp
</code></pre></div>
</div>
<h2 id="activar-y-desactivar-interfaces-de-red">ACTIVAR Y DESACTIVAR INTERFACES DE RED </h2>
<div class="style-normal">
<p>Para activar o desactivar una interfaz de red, de manera <strong>no persistente</strong>, se utiliza el comando <code>ifconfig</code>. La sintaxis del comando, en este caso, es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifconfig &lt;interfaz&gt; [up|down]
</code></pre><div class="style-normal">
<p>La opci贸n <code>up</code> se utiliza para activar la interfaz y la opci贸n <code>down</code> para desactivarlo.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Activar interfaz de red (no persistente)</p>
<div class="style-example">
<p>Activar la interfaz <code>eth0</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# ifconfig eth0 up
</code></pre></div>
</div>
<div class="style-normal">
<p>Para la activaci贸n y desactivaci贸n de ls interfaces que se han configurado de <strong>manera persistente</strong> se utilizan los comandos <code>ifup</code> e <code>ifdown</code> respectivamente, los cuales forman parte de la librer铆a o paquete <code>ifupdown</code>.</p>
<p>La sintaxis de estos puede variar en funci贸n del tipo de distribuci贸n y la versi贸n. Para el caso de las <strong>distribuciones basadas en Debian</strong> la sintaxis del comando <code>ifup</code> es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifup &lt;interfaz[=conexi贸n]&gt;
</code></pre><div class="style-normal">
<p>La ejecuci贸n del comando activa la <code>&lt;interfaz&gt;</code> especificada con los datos de la <code>&lt;conexi贸n&gt;</code> especificada. Cuando no se especifica la conexi贸n, asume que hay una conexi贸n configurada con el mismo nombre que la interfaz. Recordemos que las conexiones estan configuradas en el archivo <code>/etc/network/interfaces</code> en las cl谩usulas <code>iface</code>.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Activar interfaz de red (persistente)</p>
<div class="style-example">
<p>En un m谩quina Debian tenemos configurada de manera persistente las conexiones <em>eth0</em> y <em>universidad</em>. Activar las interfaces de red <code>eth0</code> con la conexi贸n del mismo nombre y la interfaz <code>eth1</code> con la conexi贸n <em>universidad</em>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@debian:~# ifup eth0
root@debian:~# ifup eth1=universidad
</code></pre><p>Alternativamente, la interfaz <code>eth0</code> se podr铆a activar con el siguiente comando:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@debian:~# ifup eth0=eth0
</code></pre></div>
</div>
<div class="style-normal">
<p>El comando <code>ifup</code> se puede utilizar sin especificar la interfaz. En este caso tenemos dos posibilidades:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifup {-a \| --allow=auto}
</code></pre><div class="style-normal">
<p>Se activan todas las interfaces que tengan una directiva <code>auto</code> en el archivo de configuraci贸n de las interfaces. Cuando se inicia el servicio de red (o se inicia la m谩quina), se ejecuta este comando autom谩ticamente.</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifup {--allow=hotplug}
</code></pre><div class="style-normal">
<p>Se activan todas las interfaces que tengan una directiva <code>allow-hotplug</code> en el archivo de configuraci贸n de las interfaces.</p>
<p>En ambos casos, para que se active una interfaz tiene que haber una conexi贸n del mismo nombre definida en el archivo de configuraci贸n de las interfaces.</p>
<p>Para que se active autom谩ticamente una interfaz y se asocie a una conexi贸n con nombre diferente al de la interfaz se pueden utilizar las cl谩usulas <code>mapping</code>. Esto, por ejemplo, nos permitiria asociar una interfaz <code>eth0</code> a una conexi贸n llamada <em>casa</em> cuando nos conectamos a la red de casa con nuestro port谩til y asociar la conexi贸n llamada <em>trabajo</em> a la misma interfaz cuando nos conectemos a la red del trabajo.<br>
Las cl谩usulas <code>mapping</code> est谩n fuera del alcance de este curso. En cualquier caso se puede encontrar m谩s informaci贸n sobre este aspecto y otros no tratados en el siguiente enlace: <a href="https://www.fpgenred.es/DebianRed/index.html">Configuraci贸n de la red en Debian</a>.</p>
<p>La sintaxis del comando <code>ifdown</code> es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifdown &lt;interfaz&gt;
</code></pre><div class="style-normal">
<p>La ejecuci贸n del comando desactiva la <code>&lt;interfaz&gt;</code> de red especificada.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Desactivar interfaz de red (persistente)</p>
<div class="style-example">
<p>En un m谩quina Debian tenemos configurada de manera persistente las conexiones <em>eth0</em> y <em>universidad</em>. Desactivar las interfaces de red <code>eth0</code> asociada a la conexi贸n del mismo nombre y la interfaz <code>eth1</code> asociada a la conexi贸n <em>universidad</em>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@debian:~# ifdown eth0
root@debian:~# ifdown eth1
</code></pre></div>
</div>
<div class="style-normal">
<p>Los comandos <code>ifup</code> e <code>ifdown</code> tienen una sintaxis ligeramente diferente en los <strong>sistemas basados en Red Hat</strong>. En este caso siempre especificamos como par谩metro la <code>&lt;conexi贸n&gt;</code>.</p>
<p>Como en el archivo de conexi贸n el par谩metro <code>DEVICE</code> nos indica con que interfaz se asocia la conexi贸n, los comandos <code>ifup</code> e <code>ifdown</code> saben a que interfaz hay que asociar una conexi贸n o que interfaz hay que desactivar.</p>
<p>Para activar una conexi贸n ponemos:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifup &lt;conexion&gt;
</code></pre><div class="style-normal">
<p>Y para desactivarla:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>ifdown &lt;conexion&gt;
</code></pre><div class="admonition example">
<p class="admonition-title">Desactivar conexi贸n</p>
<div class="style-example">
<p>En una m谩quina con el sistema Red Hat, desactivar la conexi贸n de nombre <em>universidad</em>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@redhat:~# ifdown universidad
</code></pre><p>El archivo donde est谩 configurada la conexi贸n se llamar谩 <code>/etc/sysconfig/network-scripts/ifcfg-universidad</code>. Dentro de este archivo habr谩 un par谩metro <code>DEVICE</code> con la interfaz a la cual se asociado la conexi贸n, por ejemplo <code>DEVICE=eth1</code>. El comando, realmente, desactiva esta interfaz.</p>
</div>
</div>
<h2 id="tabla-de-enrutamiento">TABLA DE ENRUTAMIENTO </h2>
<div class="style-normal">
<p>La utilidad o comando <code>route</code> se utiliza para configurar, de <strong>manera no persistente</strong>, y mostrar informaci贸n de la tabla de enrutamiento de un equipo; es decir la tabla nos indica como llegar a todas las redes: a las que estoy directamente conectado y a otras redes a las que no se est谩 directamente conectado y a Internet.</p>
</div>
<h3 id="mostrar-tabla">MOSTRAR TABLA </h3>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>route [-n]
</code></pre><div class="style-normal">
<p>Muestra la tabla de enrutamiento del sistema. Si se utiliza el flag <code>-n</code> muestra las direcciones IP en lugar de los nombres de host. La informaci贸n m谩s relevante que muestra este comando es:</p>
</div>
<ul>
<li><em>Destination</em>: La red de destino a la que se quiere llegar.</li>
<li><em>Gateway</em>: La puerta de enlace a trav茅s de la cual se accede a la red de destino.</li>
<li><em>Genmask</em>: La m谩scara de red que define el rango de direcciones IP de la red de destino.</li>
<li><em>Flags</em>: Indicadores que muestran el estado de la ruta (U: ruta activa, G: puerta de enlace, H: host, etc.).</li>
<li><em>Metric</em>: La m茅trica de la ruta, que indica la preferencia de la ruta (rutas con menor m茅trica son preferidas).</li>
<li><em>Iface</em>: La interfaz de red a trav茅s de la cual se accede a la red de destino.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Mostrar tabla de enrutamiento</p>
<div class="style-example">
<p>Mostrar la tabla de enrutamiento del sistema.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         192.168.2.1     0.0.0.0         UG    0      0        0 eth0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
192.168.3.0     192.168.2.2     255.255.255.0   UG    0      0        0 eth1
</code></pre><p>El resultado muestra que la ruta por defecto (<code>default</code>) utiliza la puerta de enlace <code>192.168.2.1</code> a trav茅s de la interfaz <code>eth0</code> para acceder a Internet.<br>
Si utilizamos el flag <code>-n</code> el destino de la ruta por defecto se muestra como una direcci贸n IP (<code>0.0.0.0</code>) en lugar de <code>default</code>. El asterisco en la columna <em>Gateway</em> correspondiente a la segunda entrada nos indica que el equipo est谩 directamente conectado a la red <code>192.168.2.0/24</code> (a trav茅s de la interfaz <code>eth0</code>).<br>
La 煤ltima entrada nos indica que para acceder a la red <code>192.168.3.0/24</code>, el equipo debe utilizar la puerta de enlace <code>192.168.2.2</code> a trav茅s de la interfaz <code>eth1</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.2.1     0.0.0.0         UG    0      0        0 eth0
192.168.2.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0
192.168.3.0     192.168.2.2     255.255.255.0   UG    0      0        0 eth1
</code></pre></div>
</div>
<h3 id="modificar-tabla">MODIFICAR TABLA </h3>
<div class="style-normal">
<p>Tambi茅n utilizaremos el comando route para a帽adir entradas o rutas en la tabla de enrutamiento y para eliminarlas. Para cambiar una entrada de la tabla de enrutamiento lo que haremos ser谩 eliminar la entrada que queremos cambiar y a帽adir una nueva con los cambios que queremos hacer.</p>
</div>
<h4 id="a帽adir-entrada">AADIR ENTRADA </h4>
<div class="style-normal">
<p>Podemos a帽adir entradas a la tabla de enrutamiento para acceder a redes a las que no se est谩 directamente conectado. Un caso especial, es la ruta por defecto o ruta que nos da acceo a Internet. Este 煤ltimo caso ya lo vimos anteriormente cuando estudiamos como configurar el <em>gateway</em>.</p>
<p>Para a帽adir una ruta a una red a la que no estamos directamente conectados el comando adopta la siguiente sintaxis:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>route add -net {&lt;red&gt; netmask &lt;m谩scara&gt; | &lt;red/prefijo&gt;} gw &lt;puerta_de_enlace&gt; [metric &lt;m茅trica&gt;] dev [&lt;interfaz&gt;]
</code></pre><div class="style-normal">
<p>A帽adir una ruta est谩tica a la tabla de enrutamiento. La opci贸n <code>dev</code> se puede omitir si s贸lo hay una interfaz de red; es m谩s se puede omitir hasta el nombre de la interfaz. La opci贸n <code>metric</code> permite establecer la m茅trica de la ruta, que influye en la selecci贸n de rutas.</p>
</div>
<div class="admonition example">
<p class="admonition-title">A帽adir ruta est谩tica</p>
<div class="style-example">
<p>A帽adir una ruta est谩tica para acceder a la red <code>192.168.11.0/25</code> desde un equipo de la red <code>192.168.10.0/24</code> utilizando como puerta de enlace el equipo con IP <code>192.168.10.2</code>. El equipo s贸lo tiene una interfaz de salida de nombre <code>eth0</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>  root@Host:~# route add -net 192.168.11.0 netmask 255.255.255.128 gw 192.168.10.2 dev eth0
</code></pre><p>Otra forma alternativa y simplificada del mismo comando se铆a:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>  root@Host:~# route add -net 192.168.11.0/25 gw 192.168.10.2
</code></pre></div>
</div>
<h4 id="borrar-entrada">BORRAR ENTRADA </h4>
<div class="style-normal">
<p>De forma an谩loga a como se a帽ad铆an rutas, podemos eliminarlas. La sintaxis del comando para eliminar una ruta a una red a la que no estoy directamente conectado es la siguiente:</p>
</div>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>route del -net {&lt;red&gt; netmask &lt;m谩scara&gt; | &lt;red/prefijo&gt;} [gw &lt;puerta_de_enlace&gt;] [&lt;interfaz&gt;]
</code></pre><div class="style-normal">
<p>Elimina una ruta est谩tica a una red no directamente conectada a trav茅s de un equipo (gw). Si s贸lo hay una red a trav茅s de un equipo se puede omitir la opci贸n <code>gw</code>.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Eliminar ruta est谩tica</p>
<div class="style-example">
<p>Eliminar la ruta est谩tica a la red de destino <code>192.168.11.0/25</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route del -net 192.168.11.0/25
</code></pre><p>Alternativamente, podemos utilizar el comando:</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# route del -net 192.168.11.0 netmask 255.255.255.128
</code></pre></div>
</div>
<h4 id="persistencia">PERSISTENCIA </h4>
<div class="style-normal">
<p>Para que los cambios realizados en la tabla de enrutamiento sean <strong>persistentes</strong>, es decir, que se mantengan despu茅s de reiniciar el equipo, hay que a帽adir las rutas est谩ticas en los archivos de configuraci贸n de las interfaces de red. En el caso de las <strong>distribuciones basadas en Debian</strong>, disponemos de unas directivas que ejecutan un comando o script cuando se activa una interfaz y cuando se desactiva. Las directivas son las siguientes:</p>
</div>
<div class="style-list">
<ul>
<li><code>up &lt;comando&gt;</code>: el comando se ejecuta cuando se activa la conexi贸n.</li>
<li><code>post-up &lt;comando&gt;</code>: el comando se ejecuta despu茅s de activar la conexi贸n. Si la conexi贸n no se activa correctamente, el comando no se ejecuta.</li>
<li><code>pre-down &lt;comando&gt;</code>: el comando se ejecuta antes de que se desactive la conexi贸n.</li>
<li><code>down &lt;comando&gt;</code>: el comando se ejecuta cuando se desactiva la conexi贸n.</li>
</ul>
</div>
<div class="style-normal">
<p>Normalmente, lo que se hace con una instrucci贸n <code>post-up</code> cuando se activa la conexi贸n se debe deshacer con <code>pre-down</code> cuando se desactiva, aunque no es obligatorio.</p>
<p>Para a帽adir una ruta persistente solo tenemos que utilizar la directiva <code>post-up</code> (o <code>up</code>) con el comando <code>route</code> que a帽ade la ruta y para eliminar una ruta utilizamos el comando <code>route</code> con la directiva <code>pre-down</code> (o <code>down</code>).</p>
</div>
<div class="admonition example">
<p class="admonition-title">A帽adir y eliminar rutas persistentes</p>
<div class="style-example">
<p>En una red tenemos un router que est谩 directamente conectado a las redes <code>192.168.1.0/24</code> por la interfaz <code>eth0</code> y <code>192.168.2.0/25</code> por <code>eth1</code>. Necesita acceder a la red <code>192.168.2.128/25</code> a la cual se accede a trav茅s de la puerta de enlace <code>192.168.1.2</code>.</p>
<p>Configuramos las interfaces de red de manera que cuando se active la interfaz <code>eth0</code> se cree una ruta est谩tica que da acceso a la red <code>192.168.2.128/25</code> y cuando se desactive se elimine la ruta.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>auto eth0
iface eth0 inet static
      address 192.168.1.1
      netmask 255.255.255.0
      post-up route add -net 192.168.2.128/25 gw 192.168.1.2 dev eth0
      pre-down route del -net 192.168.2.128/25 gw 192.168.1.2 dev eth0

auto eth1
iface eth1 inet static
      address 192.168.2.1
      netmask 255.255.255.128
</code></pre></div>
</div>
<h2 id="tabla-arp">TABLA ARP </h2>
<div class="style-normal">
<p>El comando <code>arp</code> se utiliza para manipular o mostrar las entradas de la tabla ARP (Address Resolution Protocol), que almacena la correspondencia entre direcciones IP y direcciones MAC de los equipos en una red local.</p>
</div>
<h3 id="mostrar-tabla-1">MOSTRAR TABLA </h3>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>arp [-a | -v] [&lt;ip_equipo&gt;]
</code></pre><div class="style-normal">
<p>Muestra el contenido de la tabla ARP. Si se utiliza la opci贸n <code>-a</code>, muestra la tabla en formato BSD. La opci贸n <code>-v</code> proporciona informaci贸n adicional (verbose). Si le pasamos una ip (<code>&lt;ip_equipo&gt;</code>) solo muestra las entradas correspondientes a ese equipo.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Mostrar tabla ARP</p>
<div class="style-example">
<p>Mostrar todas las entradas de la tabla ARP.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# arp
Address       Hwtype      Hwaddress           Flags       Mask    Iface
192.168.2.3   ether       08:00:27:3b:72:33   C                   eth0
192.168.2.1   ether       52:54:00:12:35:00   C                   eth0
</code></pre></div>
</div>
<h3 id="modificar-tabla-1">MODIFICAR TABLA </h3>
<div class="style-normal">
<p>Se pueden a帽adir y eliminar entradas de la tabla ARP.</p>
</div>
<h4 id="a帽adir-entrada-1">AADIR ENTRADA </h4>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>arp -s &lt;ip_equipo&gt; &lt;mac&gt;
</code></pre><div class="style-normal">
<p>A帽ade manualmente una entrada a la tabla ARP especificando la direcci贸n IP del equipo y su direcci贸n MAC.</p>
</div>
<div class="admonition example">
<p class="admonition-title">A帽adir entrada ARP</p>
<div class="style-example">
<p>A帽adir una entrada a la tabla ARP para el equipo con IP <code>192.168.2.10</code> con mac <code>08:00:27:aa:bb:cc</code> y a continuaci贸n visualizar la tabla ARP.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# arp -s 192.168.2.10 08:00:27:aa:bb:cc
root@Host:~# arp
Address       Hwtype      Hwaddress           Flags       Mask    Iface
192.168.2.3   ether       08:00:27:3b:72:33   C                   eth0
192.168.2.10  ether       08:00:27:aa:bb:cc   CM                  eth0
192.168.2.1   ether       52:54:00:12:35:00   C                   eth0
</code></pre><p>El valor de <code>Flags</code> a <code>M</code> indica que la entrada se ha a帽adido manualmente y no se ha aprendido din谩micamente.</p>
</div>
</div>
<h4 id="borrar-entrada-1">BORRAR ENTRADA </h4>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>arp -d &lt;ip_equipo&gt;
</code></pre><div class="style-normal">
<p>Elimina la entrada de la tabla ARP correspondiente a la direcci贸n IP especificada.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Eliminar entrada ARP</p>
<div class="style-example">
<p>Eliminar la entrada de la tabla ARP para el equipo con IP <code>192.168.2.10</code>.</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>root@Host:~# arp -d 192.168.2.10
</code></pre></div>
</div>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>